(this["webpackJsonpdiscord-dashboard"]=this["webpackJsonpdiscord-dashboard"]||[]).push([[0],{73:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var o,i,r,c,a,s,d,l,u,b,p,g,h,j,x,f,m,O,v,w,k,y,S,I=t(0),G=t.n(I),_=t(34),C=t.n(_),D=t(13),P=t.n(D),F=t(19),z=t(10),R=t(4),L=t(3),J=t(2),q=J.c.aside(o||(o=Object(L.a)(["\n  width: 100px;\n  background-color: ",";\n  color: ",';\n  height: 100%;\n  font-family: "Poppins";\n  box-sizing: border-box;\n  position: fixed;\n  overflow: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n'])),(function(e){return e.theme.base.sidebar}),(function(e){return e.theme.text.main})),N=J.c.aside(i||(i=Object(L.a)(["\n  width: 350px;\n  background-color: ",";\n  color: ",';\n  height: 100%;\n  font-family: "Poppins";\n  box-sizing: border-box;\n  position: fixed;\n  margin-left: 100px;\n  overflow: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n'])),(function(e){return e.theme.base.menu}),(function(e){return e.theme.text.main})),T=J.c.div(r||(r=Object(L.a)(["\n  min-height: 100%;\n  background-color: ",";\n  color: ",';\n  font-family: "Poppins";\n  box-sizing: border-box;\n  position: absolute;\n  margin-left: 450px;\n  width: calc(100% - 450px);\n'])),(function(e){return e.theme.base.content}),(function(e){return e.theme.text.main})),B=(J.c.div(c||(c=Object(L.a)([""]))),J.c.div(a||(a=Object(L.a)(["\n  height: 60px;\n  width: 60px;\n  background-color: #c4c4c4;\n  border-radius: 50px;\n"])))),E=J.c.header(s||(s=Object(L.a)(["\n  box-sizing: border-box;\n  height: ",";\n  box-shadow: 0px 1px 25px 0px rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n"])),(function(e){return e.theme.height.topContent})),M=Object(J.c)(E)(d||(d=Object(L.a)(["\n  justify-content: center;\n"]))),U=Object(J.c)(E)(l||(l=Object(L.a)(["\n  padding: 25px;\n"]))),A=Object(J.c)(E)(u||(u=Object(L.a)(["\n  padding: 25px;\n  position: fixed;\n  z-index: 9999;\n  background-color: inherit;\n  width: 100%;\n  :hover {\n    cursor: pointer;\n  }\n"]))),H=J.c.div(b||(b=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: ",";\n"])),(function(e){return e.theme.padding.content})),V=Object(J.c)(B)(p||(p=Object(L.a)(["\n  height: 75px;\n  width: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 5px 0px;\n  ","\n  background-color: #36393F;\n  background-position: center;\n  background-size: 100%;\n"])),(function(e){var n=e.bg,t=e.content;return n?"background: url(".concat(n,");"):"content:"+t})),W=J.c.div(g||(g=Object(L.a)(["\n  box-sizing: border-box;\n  padding: ",";\n  margin-top: 100px;\n"])),(function(e){return e.theme.padding.content})),Y=J.c.div(h||(h=Object(L.a)(["\n  box-sizing: border-box;\n  font-size: 16px;\n  font-weight: bold;\n  :nth-child(2) {\n    margin: 20px 0px;\n  }\n  span {\n    padding: 0px 20px;\n  }\n"]))),K=J.c.section(j||(j=Object(L.a)(["\n  font-size: 22px;\n  font-weight: lighter;\n  padding: 5px 0px;\n  transition: 100ms background-color;\n  :hover {\n    cursor: pointer;\n    background-color: #42494c;\n  }\n  span {\n    padding: 0px 20px;\n  }\n"]))),Q=J.c.div(x||(x=Object(L.a)(["\n  background-color: #21262d;\n  padding: 8px 20px;\n  border-radius: 5px;\n  font-size: 16px;\n  font-weight: bold;\n  border-bottom: 0.5px solid rgba(255, 255, 255, 0.1);\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n"]))),X=J.c.div(f||(f=Object(L.a)(["\n  max-height: 0px;\n  overflow-y: scroll;\n  opacity: 0;\n  transition: 300ms;\n  ::-webkit-scrollbar {\n    width: 5px;\n  }\n  ::-webkit-scrollbar-track {\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: #171717;\n    border-radius: 50px;\n  }\n  ","\n"])),(function(e){return e.expanded?Object(J.b)(m||(m=Object(L.a)(["\n          max-height: 220px;\n          opacity: 1;\n        "]))):Object(J.b)(O||(O=Object(L.a)(["\n          max-height: 0px;\n\n          opacity: 0;\n        "])))})),Z=J.c.div(v||(v=Object(L.a)(["\n  background-color: #21262d;\n  color: white;\n  border-bottom: 0.5px solid rgba(255, 255, 255, 0.1);\n  padding: 5px 20px;\n  :hover {\n    background-color: #545d6b;\n    cursor: pointer;\n  }\n  ","\n"])),(function(e){return e.isSelected&&Object(J.b)(w||(w=Object(L.a)(["\n      background-color: #2e2e2e;\n    "])))})),$=J.c.footer(k||(k=Object(L.a)(["\n  background-color: #21262d;\n  padding: 8px 20px;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n  max-height: 42px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),ee=J.c.button(y||(y=Object(L.a)(['\n  font-family: "Poppins";\n  padding: 5px 12px;\n  background-color: inherit;\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  outline: none;\n  color: white;\n  border-radius: 5px;\n  transition: 100ms;\n  :hover {\n    cursor: pointer;\n    background-color: #4a4a4a;\n  }\n  :active {\n    background-color: #262626;\n  }\n  :disabled {\n    background-color: #919191;\n    border: none;\n  }\n']))),ne=J.c.input(S||(S=Object(L.a)(['\n  font-family: "Poppins";\n  outline: none;\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  padding: 4px 8px;\n  border-radius: 5px;\n  background-color: inherit;\n  color: white;\n']))),te=[{name:"Yes",value:!0},{name:"No",value:!1}],oe=I.createContext({guild:void 0,setGuild:function(){}}),ie=oe.Provider,re=oe,ce=t(1),ae=function(e){var n,t=e.title,o=e.history,i=Object(I.useContext)(re).guild;return i?Object(ce.jsxs)(N,{children:[Object(ce.jsx)(A,{onClick:function(){return o.push("/dashboard/".concat(i.id))},children:t}),Object(ce.jsx)(W,{children:(n=i.id,[{name:"General",path:"/general",routes:[{name:"General",path:"/dashboard/".concat(n,"/general/")}]},{name:"Gamertag",path:"/gamertag",routes:[{name:"Gamertag",path:"/dashboard/".concat(n,"/gamertag/")}]}]).map((function(e){return Object(ce.jsxs)(Y,{children:[Object(ce.jsx)("span",{children:e.name}),e.routes.map((function(e){return Object(ce.jsx)(K,{onClick:function(){return o.push(e.path)},children:Object(ce.jsxs)("span",{children:["# ",e.name]})},e.name)}))]},e.name)}))})]}):Object(ce.jsx)(N,{children:Object(ce.jsx)(A,{children:"Please Select a Guild"})})},se=function(e){var n=Object(I.useContext)(re).setGuild;return Object(ce.jsxs)(q,{children:[Object(ce.jsx)(M,{children:Object(ce.jsx)(B,{})}),Object(ce.jsx)(H,{children:e.guilds.filter((function(e){return e.owner||"1099511627775"===e.permissions})).map((function(t){return Object(ce.jsx)(V,{bg:t.icon?"https://cdn.discordapp.com/icons/"+t.id+"/"+t.icon+(t.icon.startsWith("a_")?".gif":".png"):null,content:t.name.split(" ").map((function(e){return e[0]})),className:"guild-icon",onClick:function(){n(t),e.history.push("/dashboard/".concat(t.id))},children:t.icon?"":Object(ce.jsx)("p",{children:t.name.split(" ").map((function(e){return e[0]}))})},t.id)}))})]})},de=Object(I.createContext)({guilds:[],setGuilds:function(e){}}).Provider,le=[{id:"123",name:"Developers",icon:""},{id:"124",name:"Developers",icon:""},{id:"125",name:"Developers",icon:""},{id:"126",name:"Developers",icon:""},{id:"127",name:"Developers",icon:""},{id:"128",name:"Developers",icon:""},{id:"129",name:"Developers",icon:""},{id:"130",name:"Developers",icon:""},{id:"131",name:"Developers",icon:""},{id:"132",name:"Developers",icon:""},{id:"133",name:"Developers",icon:""},{id:"134",name:"Developers",icon:""},{id:"135",name:"Developers",icon:""},{id:"136",name:"Developers",icon:""},{id:"137",name:"Developers",icon:""},{id:"138",name:"Developers",icon:""}],ue=t(38),be=t.n(ue),pe=t(39),ge=t(40),he=t(43),je=t(11),xe=t(44),fe=t(42);function me(e){var n=Object(I.useRef)(null);return Object(ce.jsx)("div",{children:Object(ce.jsx)("input",{type:"text",defaultValue:e.default,ref:n,onChange:function(){var t;return e.update((null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.value)||e.default)}})})}var Oe=function(e){var n=e.title,t=e.guild,o=e.update,i=e.current,r=Object(I.createRef)(),c=Object(I.useState)(te.find((function(e){return e.value===i}))),a=Object(z.a)(c,2),s=a[0],d=a[1],l=Object(I.useState)(!1),u=Object(z.a)(l,2),b=u[0],p=u[1],g=Object(I.useState)(""),h=Object(z.a)(g,2),j=h[0],x=h[1],f=Object(I.useState)(te),m=Object(z.a)(f,2),O=m[0],v=m[1];return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)(Q,{onClick:function(){return p(!b)},children:[Object(ce.jsx)("p",{children:n}),Object(ce.jsx)("p",{children:s&&s.name})]}),Object(ce.jsx)(X,{ref:r,expanded:b,children:O.map((function(e){return Object(ce.jsx)(Z,{onClick:function(){d(e),o(e,t)},isSelected:s&&e.value===s.value,children:e.name},e.name)}))}),b&&Object(ce.jsxs)($,{children:[Object(ce.jsx)("div",{children:Object(ce.jsx)(ee,{onClick:function(){p(!1),v(te),d(void 0),x("")},children:"Collapse"})}),Object(ce.jsx)("div",{children:Object(ce.jsx)(ne,{onChange:function(e){var n=e.currentTarget.value;x(n);var t=te.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));v(t)},value:j,placeholder:"Search"})})]})]})},ve=function(e){Object(xe.a)(t,e);var n=Object(fe.a)(t);function t(e){var o,i;return Object(pe.a)(this,t),(i=n.call(this,e)).props=e,i.state=void 0,i.state={id:null===e||void 0===e||null===(o=e.guild)||void 0===o?void 0:o.id,prefix:null,saved:!0,nicknameOnJoin:!0},e.guild&&i.updateState(),i}return Object(ge.a)(t,[{key:"setState",value:function(e){e.saved=!1,Object(he.a)(Object(je.a)(t.prototype),"setState",this).call(this,e)}},{key:"renderGeneral",value:function(){var e,n=this;return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(U,{children:"General"}),Object(ce.jsx)("div",{style:{padding:"20px"},children:Object(ce.jsx)(me,{update:function(e){return n.setState({prefix:e})},title:"Prefix",default:null!==(e=this.state.prefix)&&void 0!==e?e:"",guild:this.state})})]})}},{key:"renderGamertag",value:function(){var e=this;return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(U,{children:"Gamertag"}),Object(ce.jsx)("div",{style:{padding:"20px"},children:Object(ce.jsx)(Oe,{title:"Set nickname to registered IGN on join",guild:this.state,current:this.state.nicknameOnJoin,update:function(n,t,o){return e.setState({nicknameOnJoin:n.value})}})})]})}},{key:"updateState",value:function(){var e=Object(F.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.get("/api/guild/"+this.state.id+"/config");case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=localStorage.getItem("access_token");e&&we.put("/api/guild/"+this.state.id+"/config",this.state,{headers:{Authorization:e}})}},{key:"render",value:function(){var e=this,n=function(n){return e.state.saved?Object(ce.jsx)(T,{children:n}):Object(ce.jsxs)(T,{children:[n,Object(ce.jsx)(ee,{style:{marginRight:"5px"},disabled:e.state.saved,onClick:function(){return e.update()},children:"Save"})]})};return this.props.guild?"general"===this.props.route?n(this.renderGeneral()):"gamertag"===this.props.route?n(this.renderGamertag()):n(Object(ce.jsx)("div",{})):n(Object(ce.jsx)("p",{children:"Could not find guild"}))}}]),t}(G.a.Component),we=be.a.create({baseURL:"https://public-bot.shadowsniper784.repl.co"});function ke(e){var n=e.children,t=e.guild,o=e.setGuild,i=e.guilds,r=e.setGuilds;return Object(ce.jsx)(ie,{value:{guild:t,setGuild:o},children:Object(ce.jsx)(de,{value:{guilds:i,setGuilds:r},children:n})})}function ye(e){return Object(ce.jsxs)(R.c,{children:[Object(ce.jsx)(R.a,{path:"/",exact:!0,component:function(){return Object(ce.jsxs)(ke,{guild:e.guild,setGuild:e.setGuild,guilds:e.guilds,setGuilds:e.setGuilds,children:[Object(ce.jsx)(se,{guilds:e.guilds,history:e.history}),Object(ce.jsx)(ae,{title:e.guild?e.guild.name:"Shadow Public",history:e.history})]})}}),Object(ce.jsx)(R.a,{path:"/dashboard/:guildId",exact:!0,component:function(n){return Object(ce.jsx)(ve,{route:"general",guild:e.guilds.find((function(e){return e.id===n.match.params.guildId}))})}}),Object(ce.jsx)(R.a,{path:"/dashboard/:guildId/general",exact:!0,component:function(n){return Object(ce.jsx)(ve,{route:"general",guild:e.guilds.find((function(e){return e.id===n.match.params.guildId}))})}}),Object(ce.jsx)(R.a,{path:"/dashboard/:guildId/gamertag",exact:!0,component:function(n){return Object(ce.jsx)(ve,{route:"gamertag",guild:e.guilds.find((function(e){return e.id===n.match.params.guildId}))})}})]})}var Se=function(){var e=I.useState(),n=Object(z.a)(e,2),t=n[0],o=n[1],i=I.useState([]),r=Object(z.a)(i,2),c=r[0],a=r[1],s=Object(R.f)();return I.useEffect((function(){function e(){return(e=Object(F.a)(P.a.mark((function e(){var n,t,o,i,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.location.search,!((t=new URLSearchParams(n)).has("code")||window.localStorage.getItem("access_token")&&window.localStorage.getItem("refresh_on")&&Math.round(Date.now()/1e3)<parseInt(window.localStorage.getItem("refresh_on"))||window.localStorage.getItem("refresh_token"))){e.next=38;break}if(!(window.localStorage.getItem("access_token")&&window.localStorage.getItem("refresh_on")&&Date.now()<parseInt(window.localStorage.getItem("refresh_on")))){e.next=7;break}console.log("No request needed access token: %s",window.localStorage.getItem("access_token")),e.next=30;break;case 7:if(!localStorage.getItem("refresh_token")){e.next=18;break}return e.next=10,we.post("/api/refresh",{refresh_token:window.localStorage.getItem("refresh_token")});case 10:o=e.sent,console.log("Request now %o",o),o=o.data,window.localStorage.removeItem("refresh_token"),window.localStorage.setItem("access_token",o.access_token),window.localStorage.setItem("refresh_on",o.refresh_on),e.next=30;break;case 18:if(!t.has("code")){e.next=30;break}return console.log("Has code: %s",t.get("code")),e.next=22,we.get("/api/access",{params:{code:t.get("code")}});case 22:if(400!==(i=e.sent).status){e.next=25;break}return e.abrupt("return",a(le));case 25:console.log("Request finished: %o",i),r=i.data,window.localStorage.setItem("access_token",r.access_token),window.localStorage.setItem("refresh_on",r.refresh_on),window.localStorage.setItem("refresh_token",r.refresh_token);case 30:return console.log("Getting guilds: %s",window.localStorage.getItem("access_token")),e.next=33,we.post("/api/guilds",{access_token:window.localStorage.getItem("access_token")});case 33:c=e.sent,console.log("Request finished: %o",c),a(c.data),e.next=40;break;case 38:console.log("dd"),window.location.href="https://public-bot.shadowsniper784.repl.co/api/login";case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c[0]?Object(ce.jsxs)(ke,{guild:t,setGuild:o,guilds:c,setGuilds:a,children:[Object(ce.jsx)(ye,{guild:t,setGuild:o,guilds:c,setGuilds:a,history:s}),Object(ce.jsx)(se,{guilds:c,history:s}),Object(ce.jsx)(ae,{title:t?t.name:"Shadow Public",history:s})]}):Object(ce.jsx)("p",{children:"Loading Guilds or no user guilds..."})},Ie=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,75)).then((function(n){var t=n.getCLS,o=n.getFID,i=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),o(e),i(e),r(e),c(e)}))},Ge=t(22);t(73);C.a.render(Object(ce.jsx)(G.a.StrictMode,{children:Object(ce.jsx)(Ge.a,{children:Object(ce.jsx)(J.a,{theme:{base:{sidebar:"#202225",menu:"#2F3136",content:"#36393F"},text:{main:"#FFFFFF"},height:{topContent:"95px"},padding:{content:"20px 0px"}},children:Object(ce.jsx)(Se,{})})})}),document.getElementById("root")),Ie()}},[[74,1,2]]]);
//# sourceMappingURL=main.e35d7ca5.chunk.js.map