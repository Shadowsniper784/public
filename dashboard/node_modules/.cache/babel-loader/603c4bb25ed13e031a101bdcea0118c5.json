{"ast":null,"code":"\"use strict\";import _slicedToArray from\"/home/runner/public/dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function get(){return m[k];}});}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod){if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);}__setModuleDefault(result,mod);return result;};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.DropdownMenu=void 0;var React=__importStar(require(\"react\"));var react_1=require(\"react\");var styles_1=require(\"../utils/styles\");var axios_1=__importDefault(require(\"axios\"));function update(selected,title,guild){axios_1.default.put('api/guild/'+guild.id+'/config',{title:selected});}var DropdownMenu=function DropdownMenu(_ref){var title=_ref.title,items=_ref.items,guild=_ref.guild;var menuRef=(0,react_1.createRef)();var _ref2=(0,react_1.useState)(),_ref3=_slicedToArray(_ref2,2),selected=_ref3[0],setSelected=_ref3[1];var _ref4=(0,react_1.useState)(false),_ref5=_slicedToArray(_ref4,2),expanded=_ref5[0],setExpanded=_ref5[1];var _ref6=(0,react_1.useState)(\"\"),_ref7=_slicedToArray(_ref6,2),search=_ref7[0],setSearch=_ref7[1];var _ref8=(0,react_1.useState)(items),_ref9=_slicedToArray(_ref8,2),searchResults=_ref9[0],setSearchResults=_ref9[1];var handleChange=function handleChange(event){var value=event.currentTarget.value;setSearch(value);var filtered=items.filter(function(item){return item.name.toLowerCase().includes(value.toLowerCase());});setSearchResults(filtered);};var resetState=function resetState(){setExpanded(false);setSearchResults(items);setSelected(undefined);setSearch(\"\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(styles_1.DropdownHeader,{onClick:function onClick(){return setExpanded(!expanded);},children:[/*#__PURE__*/_jsx(\"p\",{children:title}),/*#__PURE__*/_jsx(\"p\",{children:selected&&selected.name})]}),/*#__PURE__*/_jsx(styles_1.DropdownItemContainer,{ref:menuRef,expanded:expanded,children:searchResults.map(function(item){return/*#__PURE__*/_jsx(styles_1.DropdownItem,{onClick:function onClick(){return setSelected(item);},isSelected:selected&&item.value===selected.value,children:item.name},item.value);})}),expanded&&/*#__PURE__*/_jsxs(styles_1.DropdownFooter,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(styles_1.Button,{style:{marginRight:\"5px\"},disabled:!selected,onClick:function onClick(){return update(selected,title,guild);},children:\"Save\"}),/*#__PURE__*/_jsx(styles_1.Button,{onClick:resetState,children:\"Collapse\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(styles_1.Input,{onChange:handleChange,value:search,placeholder:\"Search\"})})]})]});};exports.DropdownMenu=DropdownMenu;","map":{"version":3,"sources":["/home/runner/public/dashboard/src/components/DropdownMenu.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","__importDefault","exports","DropdownMenu","React","require","react_1","styles_1","axios_1","update","selected","title","guild","default","put","id","items","menuRef","createRef","useState","setSelected","expanded","setExpanded","search","setSearch","searchResults","setSearchResults","handleChange","event","currentTarget","filtered","filter","item","name","toLowerCase","includes","resetState","map","marginRight"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DropdownMenu = void 0;\nconst React = __importStar(require(\"react\"));\nconst react_1 = require(\"react\");\nconst styles_1 = require(\"../utils/styles\");\nconst axios_1 = __importDefault(require(\"axios\"));\nfunction update(selected, title, guild) {\n    axios_1.default.put('api/guild/' + guild.id + '/config', { title: selected });\n}\nconst DropdownMenu = ({ title, items, guild }) => {\n    const menuRef = (0, react_1.createRef)();\n    const [selected, setSelected] = (0, react_1.useState)();\n    const [expanded, setExpanded] = (0, react_1.useState)(false);\n    const [search, setSearch] = (0, react_1.useState)(\"\");\n    const [searchResults, setSearchResults] = (0, react_1.useState)(items);\n    const handleChange = (event) => {\n        const { value } = event.currentTarget;\n        setSearch(value);\n        const filtered = items.filter((item) => item.name.toLowerCase().includes(value.toLowerCase()));\n        setSearchResults(filtered);\n    };\n    const resetState = () => {\n        setExpanded(false);\n        setSearchResults(items);\n        setSelected(undefined);\n        setSearch(\"\");\n    };\n    return (<div>\n      <styles_1.DropdownHeader onClick={() => setExpanded(!expanded)}>\n        <p>{title}</p>\n        <p>{selected && selected.name}</p>\n      </styles_1.DropdownHeader>\n      <styles_1.DropdownItemContainer ref={menuRef} expanded={expanded}>\n        {searchResults.map((item) => (<styles_1.DropdownItem key={item.value} onClick={() => setSelected(item)} isSelected={selected && item.value === selected.value}>\n            {item.name}\n          </styles_1.DropdownItem>))}\n      </styles_1.DropdownItemContainer>\n      {expanded && (<styles_1.DropdownFooter>\n          <div>\n            <styles_1.Button style={{ marginRight: \"5px\" }} disabled={!selected} onClick={() => update(selected, title, guild)}>\n              Save\n            </styles_1.Button>\n            <styles_1.Button onClick={resetState}>Collapse</styles_1.Button>\n          </div>\n          <div>\n            <styles_1.Input onChange={handleChange} value={search} placeholder=\"Search\"/>\n          </div>\n        </styles_1.DropdownFooter>)}\n    </div>);\n};\nexports.DropdownMenu = DropdownMenu;\n"]},"metadata":{},"sourceType":"module"}